{% extends 'base.html' %}
{% block title %}PO Capítulo 1{% endblock %}

{% block content %}
<main class="container">
    <div class="row">
        <div class="col-12 col-md-3 d-flex justify-content-center">
            <section class="chapters mt-5">
                <p class="h2">Capítulos</p>
                <ul>
                    <li id="sub0">Capítulo 1</li>
                    <li id="sub1">Exercicio 1</li>
                    <li id="sub2">Capítulo 1.1</li>
                    <li id="sub3">exercicio 2</li>
                    <li id="sub4">Capítulo 1.2</li>
                    <li id="sub5">exercicio 3</li>
                    <li id="sub6">Capítulo 2</li>
                    <li id="sub7">Exercicio 4</li>
                    <li id="sub8">Capítulo 2.1</li>
                    <li id="sub9">exercicio 5</li>
                    <li id="sub10">Capítulo 2.2</li>
                    <li id="sub11">exercicio 6</li>
                </ul>
            </section>
        </div>
        
        <div class="col-12 col-md-9">
            <section class="mt-5 mb-5">
                
                <div class="conteudo text-center">
                    </div>

                <div class="mt-4 text-center" id="verificador_container" style="display: none;">
                    <button
                        id="btn_verificador"
                        data-bs-toggle="modal"
                        data-bs-target="#ModalVerificar"
                        class="btn btn-info"
                    >
                        Verificar
                    </button>
                </div>

                <div class="d-flex justify-content-between mt-5">
                    <button class="btn btn-secondary" id="btn_voltar">
                        <i class="bi bi-arrow-left-short"></i> Voltar
                    </button>
                    <button class="btn btn-primary" id="btn_proximo">
                        Próximo <i class="bi bi-arrow-right-short"></i>
                    </button>
                </div>
            </section>
        </div>
    </div>
</main>

<div id="ModalVerificar" class="modal fade">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-tittle">Verificador</h1>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body text-center conteudo_verificar"></div>
        </div>
    </div>
</div>
{%endblock%}


{%block scripts%}

<script>
    
    const conteudo1 = `
            <h3>1. FUNÇÃO DO CARGO</h3>
            <div class="txt-justify">
                <p class="mt-2">O Product Owner (P.O.) é o dono do produto...</p>
                </div>
    `;
    const conteudo2 = `
            <h3>1.1. DESENVOLVIMENTO DE SKILLS</h3>
            <div class="txt-justify">
                <p class="mt-2"> Assim como o Scrum Master...</p>
                </div>
    `;
    const conteudo3 = `
            <h3>1.2. DESAFIOS COMUNS</h3>
            <div class="txt-justify">
                <p class="mt-2">A jornada de um Product Owner é cheia de desafios...</p>
                </div>
    `;
    
    const conteudo4 = `<h3>Capítulo 2</h3><div class="txt-justify">
        <p>Como visto anteriormente, o SM é comunicador e servidor. Diferente dos Developers, cujo foco primário é a construção do Incremento, o SM se concentra na eficácia geral do Time Scrum. O seu compromisso é com a saúde do processo e a correta implementação da metodologia. Ele é a engrenagem catalisadora que assegura que os pilares da Transparência, Inspeção e Adaptação sejam compreendidos, adotados e executados com excelência, garantindo que a "máquina" ágil funcione em sua plenitude.</p>

        </div>`;
    const conteudo5 = `<h3>Capítulo 2.1</h3><div class="txt-justify">
        <p>Embora o Time Scrum como um todo colabore, há uma divisão clara de responsabilidades na resolução de problemas. É consenso que os Developers têm a autonomia e o dever de resolver os impedimentos técnicos (ex: um problema no código, uma falha na integração). Em contrapartida direta, o Scrum Master é o responsável por identificar e remover ativamente os impedimentos organizacionais.</p>

        <p>Isso inclui barreiras burocráticas, dependências de outras equipes que não são resolvidas, falta de ferramentas, ou qualquer obstáculo que esteja fora do controle imediato dos Developers. Essa atuação é crucial, pois blinda o time de interrupções externas e permite que mantenham o foco total na Meta da Sprint.</p>
        </div>`;
    const conteudo6 = `<h3>Capítulo 2.2</h3><div class="txt-justify">
        <p">O foco da equipe em geral deve ser em todos, mas o SM tem um foco em 4 específicos:</p>
        <h5 class="mt-5">Sprint Planning</h5>
        <p>O SM garante que a cerimônia ocorra e seja produtiva. Ele não dita o que fazer, mas ajuda o Product Owner a comunicar o objetivo (o "Porquê") e os Developers a selecionar o trabalho (o "O Quê") e planejar sua execução (o "Como"), assegurando que uma Meta da Sprint clara e inspiradora seja definida.</p>
        <h5 class="mt-5">Daily Scrum</h5>
        <p>Este evento é dos Developers, para os Developers. O SM zela para que a reunião aconteça, mantenha sua curta duração (geralmente 15 minutos) e atinja seu objetivo de sincronização e replanejamento diário. Sua principal função é ouvir atentamente os impedimentos levantados para que possa iniciar sua remoção imediatamente após o evento.</p>
        <h5 class="mt-5">Sprint Review</h5>
        <p> O SM atua como o orquestrador, assegurando que os stakeholders(partes interessadas) relevantes sejam convidados e que o Incremento "Pronto" (Done) seja apresentado. Ele fomenta a colaboração e garante que o foco seja a inspeção do produto e a coleta de feedback acionável, em vez de uma mera demonstração passiva.</p>
        <h5 class="mt-5">Sprint Retrospective</h5>
        <p>Este é o evento-chave para o SM como um agente de mudança. Ele é o facilitador principal, responsável por criar um ambiente de segurança psicológica. Ele guia o time na inspeção de si mesmo (indivíduos, interações, processos e ferramentas) e assegura que a discussão culmine em um plano de ação concreto para aprimorar a eficácia do time na próxima Sprint.</p>
        </div>`;


    
   
const exercicio1 = `
       <div class="row"> <!-- DIVISÃO DE LINHA -->
           <div class="col"> <!-- DIVISÃO DE COLUNA -->
               <h3>EXERCÍCIO FIXADOR</h3>
               <div class="row txt-justify">
                   <p> 1. A principal responsabilidade de um Product Owner (P.O.), que guia
                       todas as suas ações, é:</p>
               </div>
           </div>
       </div>
       <div class="row">
           <form action="">
               <label for="" class="form-label">Alternativas:</label>
               <div class="form-check">
                   <input type="radio" name="questao" class="form-check-input" value="false">
                   <label for="valor1" class="form-check-label"><b>A)</b> Gerenciar o cronograma do projeto e garantir que tudo seja entregue na data prometida.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor2" class="form-check-input"
                       value="false">
                   <label for="valor2" class="form-check-label"><b>B)</b> Escrever o código das funcionalidades mais importantes do produto.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor3" class="form-check-input"
                       value="true">
                   <label for="valor3" class="form-check-label"><b>C)</b> Maximizar o valor do produto, garantindo que a equipe construa as funcionalidades de maior impacto para o negócio e para o cliente.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor4" class="form-check-input"
                       value="false">
                   <label for="valor4" class="form-check-label"><b>D)</b> Organizar as reuniões do Scrum e garantir que a equipe siga as regras da metodologia.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor5" class="form-check-input"
                       value="false">
                   <label for="valor5" class="form-check-label"><b>E)</b> Atender a todos os pedidos dos stakeholders para mantê-los satisfeitos.</label>
               </div>
           </form>
       </div>
       `;
const exercicio2 = `
       <div class="row"> <!-- DIVISÃO DE LINHA -->
           <div class="col"> <!-- DIVISÃO DE COLUNA -->
               <h3>EXERCÍCIO FIXADOR</h3>
               <div class="row txt-justify">
                   <p> 2. Como funciona a relação de um Product Owner com a equipe de Developers?</p>
               </div>
           </div>
       </div>
       <div class="row">
           <form action="">
               <label for="" class="form-label">Alternativas:</label>
               <div class="form-check">
                   <input type="radio" name="questao" class="form-check-input"
                       value="false">
                   <label for="valor1" class="form-check-label"><b>A)</b> O P.O. atua como um chefe, distribuindo tarefas diárias e cobrando o progresso individual de cada um.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor2" class="form-check-input"
                       value="true">
                   <label for="valor2" class="form-check-label"><b>B)</b> É uma relação de colaboração: o P.O. define "o quê" e "porquê" e os Developers definem o "como" fazer.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor3" class="form-check-input"
                       value="false">
                   <label for="valor3" class="form-check-label"><b>C)</b> Os Developers trabalham de forma isolada, e o P.O. apenas valida o trabalho no final da Sprint.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor4" class="form-check-input"
                       value="false">
                   <label for="valor4" class="form-check-label"><b>D)</b> O P.O. é responsável por escrever todo o detalhamento técnico das tarefas para os Developers.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor5" class="form-check-input"
                       value="false">
                   <label for="valor5" class="form-check-label"><b>E)</b> Eles não possuem uma relação direta, pois o Scrum Master faz a mediação.</label>
               </div>
           </form>
       </div>
       `;
const exercicio3 = `
       <div class="row"> <!-- DIVISÃO DE LINHA -->
           <div class="col"> <!-- DIVISÃO DE COLUNA -->
               <h3>EXERCÍCIO FIXADOR</h3>
               <div class="row txt-justify">
                   <p> 3.  Um dos desafios mais comuns do P.O. é lidar com múltiplos stakeholders que querem suas solicitações priorizadas. A melhor ferramenta para gerenciar isso é:</p>
               </div>
           </div>
       </div>
       <div class="row">
           <form action="">
               <label for="" class="form-label">Alternativas:</label>
               <div class="form-check">
                   <input type="radio" name="questao" class="form-check-input"
                       value="false">
                   <label for="valor1" class="form-check-label"><b>A)</b> Dizer "sim" para todos e pedir para a equipe trabalhar mais rápido.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor2" class="form-check-input"
                       value="false">
                   <label for="valor2" class="form-check-label"><b>B)</b> FUm cronograma detalhado (gráfico de Gantt) mostrando exatamente quando cada item será entregue.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor3" class="form-check-input"
                       value="false">
                   <label for="valor3" class="form-check-label"><b>C)</b> Fazer reuniões individuais e secretas com cada stakeholder.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor4" class="form-check-input"
                       value="true">
                   <label for="valor4" class="form-check-label"><b>D)</b> Manter um Product Backlog transparente e bem priorizado, que sirva como a única fonte da verdade sobre o que será feito.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor5" class="form-check-input"
                       value="false">
                   <label for="valor5" class="form-check-label"><b>E)</b> Ignorar os stakeholders e focar apenas no que a equipe de desenvolvimento acha importante.</label>
               </div>
           </form>
       </div>
       `;
const exercicio4 = `
       <div class="row"> <!-- DIVISÃO DE LINHA -->
           <div class="col"> <!-- DIVISÃO DE COLUNA -->
               <h3>EXERCÍCIO FIXADOR</h3>
               <div class="row txt-justify">
                   <p> 4. Qual das seguintes opções é considerada uma HARD SKILL essencial para um Product Owner?</p>
               </div>
           </div>
       </div>
       <div class="row">
           <form action="">
               <label for="" class="form-label">Alternativas:</label>
               <div class="form-check">
                   <input type="radio" name="questao" class="form-check-input"
                       value="false">
                   <label for="valor1" class="form-check-label"><b>A)</b> Liderança Servidora.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor2" class="form-check-input"
                       value="true">
                   <label for="valor2" class="form-check-label"><b>B)</b> Gerenciamento de Product Backlog e conhecimento de técnicas de priorização.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor3" class="form-check-input"
                       value="false">
                   <label for="valor3" class="form-check-label"><b>C)</b> Resolução de conflitos internos da equipe.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor4" class="form-check-input"
                       value="false">
                   <label for="valor4" class="form-check-label"><b>D)</b> Coaching e Mentoria sobre a metodologia ágil.</label>
               </div>

               <div class="form-check">
                   <input type="radio" name="questao" id="valor5" class="form-check-input"
                       value="false">
                   <label for="valor5" class="form-check-label"><b>E)</b> Empatia e inteligência emocional.</label>
               </div>
           </form>
       </div>
       `;
const exercicio5 = `
           <div class="row"> <!-- DIVISÃO DE LINHA -->
               <div class="col"> <!-- DIVISÃO DE COLUNA -->
               <h3>EXERCÍCIO FIXADOR</h3>
                   <div class="row txt-justify">
                       <p> 5. Por que a habilidade de "dizer não" é tão crucial para o sucesso de um Product Owner?</p>
                   </div>
               </div>
           </div>
           <div class="row">
               <form action="">
                   <label for="" class="form-label">Alternativas:</label>
                   <div class="form-check">
                       <input type="radio" name="questao" class="form-check-input"
                           value="false">
                       <label for="valor1" class="form-check-label"><b>A)</b> Para mostrar autoridade e controle sobre a equipe de desenvolvimento.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor2" class="form-check-input"
                           value="false">
                       <label for="valor2" class="form-check-label"><b>B)</b> Para evitar trabalho e reduzir os custos do projeto o máximo possível.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor3" class="form-check-input"
                           value="true">
                       <label for="valor3" class="form-check-label"><b>C)</b> Porque o foco é essencial. Dizer "não" para ideias de baixo valor permite dizer "sim" para as funcionalidades que realmente importam e movem o produto na direção estratégica correta.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor4" class="form-check-input"
                           value="false">
                       <label for="valor4" class="form-check-label"><b>D)</b> Para garantir que apenas as tarefas mais fáceis e rápidas sejam selecionadas para a Sprint.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor5" class="form-check-input"
                           value="false">
                       <label for="valor5" class="form-check-label"><b>E)</b> Nenhuma das questões está correta.</label>
                   </div>
               </form>
           </div>
       `;

    const exercicio6 = `
           <div class="row"> <!-- DIVISÃO DE LINHA -->
               <div class="col"> <!-- DIVISÃO DE COLUNA -->
               <h3>EXERCÍCIO FIXADOR</h3>
                   <div class="row txt-justify">
                       <p> 5. Por que a habilidade de "dizer não" é tão crucial para o sucesso de um Product Owner?</p>
                   </div>
               </div>
           </div>
           <div class="row">
               <form action="">
                   <label for="" class="form-label">Alternativas:</label>
                   <div class="form-check">
                       <input type="radio" name="questao" class="form-check-input"
                           value="false">
                       <label for="valor1" class="form-check-label"><b>A)</b> Para mostrar autoridade e controle sobre a equipe de desenvolvimento.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor2" class="form-check-input"
                           value="false">
                       <label for="valor2" class="form-check-label"><b>B)</b> Para evitar trabalho e reduzir os custos do projeto o máximo possível.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor3" class="form-check-input"
                           value="true">
                       <label for="valor3" class="form-check-label"><b>C)</b> Porque o foco é essencial. Dizer "não" para ideias de baixo valor permite dizer "sim" para as funcionalidades que realmente importam e movem o produto na direção estratégica correta.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor4" class="form-check-input"
                           value="false">
                       <label for="valor4" class="form-check-label"><b>D)</b> Para garantir que apenas as tarefas mais fáceis e rápidas sejam selecionadas para a Sprint.</label>
                   </div>

                   <div class="form-check">
                       <input type="radio" name="questao" id="valor5" class="form-check-input"
                           value="false">
                       <label for="valor5" class="form-check-label"><b>E)</b> Nenhuma das questões está correta.</label>
                   </div>
               </form>
           </div>
       `;
    
    
    // CORREÇÃO: Mudei ID para ficar mais seguro e não dar conflito
    const voltar = document.querySelector("#btn_voltar"); 
    const proximo = document.querySelector("#btn_proximo");
    
    // CORREÇÃO: Apontei para a div certa (".conteudo")
    const conteudo_questao = document.querySelector(".conteudo"); 
    const verificadorContainer = document.querySelector("#verificador_container");

    let valor = 1; 
    const maxValor = 12; 

    voltar.addEventListener("click", () => {
        if (valor > 1){
            valor = valor - 1;
            renderizar(valor);
        }
    });

    proximo.addEventListener("click", () => {
        
        if (valor < maxValor){ 
            valor = valor + 1;
            renderizar(valor);
        }
    });

    function renderizar(valor){
        // Desabilita botões nos limites
        voltar.disabled = (valor === 1);
        proximo.disabled = (valor === maxValor);
        if (valor === 1) {
            conteudo_questao.innerHTML = conteudo1;
            verificadorContainer.style.display = 'none'; 
        }
        else if (valor === 2) {
            conteudo_questao.innerHTML = exercicio1;
            verificadorContainer.style.display = 'block'; 
        }
        else if (valor === 3) {
            conteudo_questao.innerHTML = conteudo2;
            verificadorContainer.style.display = 'none';
        }
        else if (valor === 4) {
            conteudo_questao.innerHTML = exercicio2;
            verificadorContainer.style.display = 'block';
        }
        else if (valor === 5) {
            conteudo_questao.innerHTML = conteudo3;
            verificadorContainer.style.display = 'none';
        }
        else if (valor === 6) {
            conteudo_questao.innerHTML = exercicio3;
            verificadorContainer.style.display = 'block';
        }
        else if (valor === 7) {
            conteudo_questao.innerHTML = conteudo4;
            verificadorContainer.style.display = 'none';
        }
        else if (valor === 8) {
            conteudo_questao.innerHTML = exercicio4;
            verificadorContainer.style.display = 'block';
        }
        else if (valor === 9) {
            conteudo_questao.innerHTML = conteudo5;
            verificadorContainer.style.display = 'none';
        }
        else if (valor === 10) {
            conteudo_questao.innerHTML = exercicio5;
            verificadorContainer.style.display = 'block';
        }
        else if (valor === 11) {
            conteudo_questao.innerHTML = conteudo6;
            verificadorContainer.style.display = 'none';
        }
        else if (valor === 12) {
            conteudo_questao.innerHTML = exercicio6;
            verificadorContainer.style.display = 'block';
        }
    }

    
    renderizar(valor);
    
    

</script>

<script>
    
    
    //VARIVEIS QUE GUARDAM O RESULTADO DO VERIFICADOR
    const modal_success = `... (código do modal de sucesso) ...`;
    const modal_danger = `... (código do modal de erro) ...`;
    const modal_null = `... (código do modal nulo) ...`;

    //VARIAVEL QUE VAI GUARDAR ONDEM VAI ESTAR O CONTEUDO DO MODAL
    const conteudo_modal = document.querySelector(".conteudo_verificar");
    //VARIAVEL QUE VAI GUADAR O BOTAO DE VERIFICACAO
    const verificador = document.getElementById("btn_verificador");

    //QUANDO O BOTAO FOR ACIONADO/CLICADO
    verificador.addEventListener("click", () =>{
        //VARIAVEL QUE GUARDA A ALTERNATIVA SELECIONADA
        // CORREÇÃO: Precisa procurar dentro do container que muda
        const alternativa = conteudo_questao.querySelector('input[name="questao"]:checked');
        
        if (alternativa){
            if (alternativa.value === "true"){
                conteudo_modal.innerHTML = modal_success;
            }
            else{
                conteudo_modal.innerHTML = modal_danger;
            }
        }
        else{
            conteudo_modal.innerHTML = modal_null;
        }
    });
</script>

{%endblock%}