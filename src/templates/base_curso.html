<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}FatecOs{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/button.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Avaliação.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz.css') }}" />
    {% block extra_css %}{% endblock %}
</head>

<body class="d-flex flex-column min-vh-100">
    {% include 'components/navbar.html' %}

    <div id="page-content" class="page-wrap">
        <main class="container">
            <section>
                <div class="mt-4">
                    <div class="row pb-3 text-center">
                        <div class="col-12 col-md-4 d-flex justify-content-md-start justify-content-center">
                            {% block image_curso %}{% endblock %}
                        </div>
                        <div class="col-12 col-md-8">
                            <h3>{% block curso %}Nome do Curos{% endblock %}</h3>
                            <p class="text-start">
                                {% block descricacao %}Texto contendo descrição{% endblock %}
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            <section>
                <div class="row text-center">
                    <div class="col">
                        {% block iniciar %}Botão iniciar curso{% endblock %}
                    </div>
                </div>
            </section>
            <section class="mt-5">
                <div class="row bg-cinza p-md-5 p-3 rounded-3 m-1 mb-md-4">
                    <div class="col-12 col-md-7">
                        <p><b>Nome:</b>{% block nome %}Nome de alguém legal{% endblock %}</p>
                        <b>Sobre:</b>
                        <p class="text-justify">
                            {% block descricacao_figura %}Descrição da figura importante{% endblock %}
                        </p>
                    </div>
                    <div class="col-12 col-md-5 d-flex justify-content-md-end justify-content-center">
                        {% block image_figura %}<img style="width: 200px;"
                            src="https://www.estadao.com.br/resizer/v2/KJDE6VL4F5AVJJJBLH5XYGVWD4.png?quality=80&auth=9298eb03c61f9b7995df9a8c47b7eed8ca9e118c532d97b464527bc3286740b8&width=1200&height=1200&smart=true"
                            alt="">{% endblock %}
                    </div>
                </div>
            </section>
        </main>

    </div>

    {% include 'components/footer.html' %}

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js"></script>

    {% block scripts %}
    <script>
        (function () {
            const toggleBtn = document.getElementById('dark-mode-toggle');
            const icon = document.getElementById('dark-mode-icon');
            const label = document.getElementById('dark-mode-label');

            const storedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

            function applyTheme(theme) {
                if (theme === 'dark') {
                    document.body.classList.add('dark');
                    if (toggleBtn) {
                        toggleBtn.setAttribute('aria-pressed', 'true');
                        toggleBtn.setAttribute('title', 'Desativar modo escuro');
                    }
                    if (icon) {
                        icon.classList.remove('bi-moon-fill');
                        icon.classList.add('bi-sun-fill');
                    }
                    if (label) label.textContent = 'Desativar modo escuro';
                } else {
                    document.body.classList.remove('dark');
                    if (toggleBtn) {
                        toggleBtn.setAttribute('aria-pressed', 'false');
                        toggleBtn.setAttribute('title', 'Ativar modo escuro');
                    }
                    if (icon) {
                        icon.classList.remove('bi-sun-fill');
                        icon.classList.add('bi-moon-fill');
                    }
                    if (label) label.textContent = 'Ativar modo escuro';
                }
            }
            if (storedTheme) {
                applyTheme(storedTheme);
            } else {
                applyTheme(prefersDark ? 'dark' : 'light');
            }

            if (toggleBtn) {
                toggleBtn.addEventListener('click', function () {
                    const isDark = document.body.classList.contains('dark');
                    const newTheme = isDark ? 'light' : 'dark';
                    applyTheme(newTheme);
                    localStorage.setItem('theme', newTheme);

                    window.dispatchEvent(new StorageEvent('storage', { key: 'theme', newValue: newTheme }));
                });
            }

            if (window.matchMedia) {
                const mq = window.matchMedia('(prefers-color-scheme: dark)');
                mq.addEventListener && mq.addEventListener('change', (e) => {
                    if (!localStorage.getItem('theme')) {
                        applyTheme(e.matches ? 'dark' : 'light');
                    }
                });
            }

            window.addEventListener('storage', function (e) {
                if (e.key === 'theme') {
                    applyTheme(e.newValue);
                }
            });
        })();
    </script>
    {% endblock %}
</body>

</html>